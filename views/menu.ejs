<!DOCTYPE html>
<html>
  <head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="/css/stylesheet.css">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>

  <body>
        <nav>
                <div class="nav-wrapper">
                  <a href="#!" class="brand-logo">Logo</a>
                  <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
                  <ul class="right hide-on-med-and-down">
                    <li><a href="sass.html">Sass</a></li>
                    <li><a href="badges.html">Components</a></li>
                    <li><a href="collapsible.html">Javascript</a></li>
                    <li><a href="mobile.html">Mobile</a></li>
                  </ul>
                </div>
              </nav>
            
              <ul class="sidenav" id="mobile-demo">
                <li><a href="sass.html">Sass</a></li>
                <li><a href="badges.html">Components</a></li>
                <li><a href="collapsible.html">Javascript</a></li>
                <li><a href="mobile.html">Mobile</a></li>
              </ul>
     
    <div class="row1 center-block">
            <%if (products && products.length){ %>
                  <ul class="collapsible">
                      <% for (var i=0; i < products.length; i++){%>
                          <li> <div class="collapsible-header value1"><%=products[i].name %></span></div>
                            <div class="collapsible-body " >price: <span class="value2"> <%=products[i].price %> </span><button  class="btn-success">Order</button></div></li>
                          
                          <%}%>
                 
                   </ul><%}%>
    </div>
    <div class="row2 center-block container">
        <p class="order-title"> <b>Your Order</b></p>
</div>



   
      <script src="/jquery/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script> 
   document.addEventListener('DOMContentLoaded', function() {
      
        var elems = document.querySelectorAll('.sidenav');
        var instances = M.Sidenav.init(elems);
      });

      document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.collapsible');
        var instances = M.Collapsible.init(elems);
      });

      $(document).ready(function(){
        var order=[];
        $('.order-title').hide();
        var j;
     
        $(".btn-success").click(function(){
          var j=1;
          $('.order-title').show();
      var val1=  $(".active").children("div.value1").text();
      var val2=  $(".active").find("span.value2").text();
      order.push({"name":val1, "price":val2});
    console.log(order);  
    
     
   var element = $('<div class="row"><div class="col s8 details"><ul><li><button class="btn-small minus">-</button><button class="btn-small plus">+</button><span class="j">'+j +'</span>x ' + order[order.length - 1].name +'</li> </ul></div> <div class="col s4 price"><ul> <li><b>'
    + order[order.length - 1].price +'</b></li></ul></div></div>') ;
   
   $('.row2').append(element);

   $(".minus", element).click(function(){
           j--;
           $(this).siblings("span.j").text(j);
         //  $(".j").text(j);
          });
     $(".plus",element).click(function(){
        j++;
        $(".j").text(j);
           
          });


          });


         

        

          
    })
    

     /* var ordermenu=[];
     
      function order(){
     
      var value1=document.querySelector('.value1').innerHTML;
        var value2=document.querySelector('.value2').innerHTML;
        ordermenu.push({"name":value1, "quantity":value2});
       console.log(ordermenu);
       console.log(value1);
      }

      var quantity= 1;
      function add(){
      var field=document.getElementById('quantity');
       field.value =quantity;
       quantity ++;
    }
*/
     

     
</script>
    
  </body>
</html>